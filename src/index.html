<script src="./js/words.js"></script>
<script>




    var bullshit = function(){
        var players = [];
        var matrix = [];
        var upstream = null;
        var connected = false;

        this.init = function(){
          this.connect();
        }.bind(this);

        this.connect = function(){
            var upstream = new WebSocket('ws://sockets.mbed.org/ws/itfa15/rw');
            upstream.onopen = function () {
                this.connected = true;
                console.log("Upstream ready!");
            }.bind(this);
            upstream.onerror = function (error) {
                this.connected = false;
                console.log('WebSocket Error ' + error);
            }.bind(this);
            upstream.onmessage = this.receiveMessage;
            this.upstream = upstream;
        }.bind(this);

        this.receiveMessage = function(e) {
            console.log(e.data);
        }.bind(this);

        this.sendMessage = function(e) {
            if(this.connected) {
                this.upstream.send("wow");
            }
        }.bind(this);

        this.init();
    };

    bullshit.prototype.test = function(){
        this.sendMessage();
    }

    var bullshitObject = new bullshit();


</script>
<table>

</table>